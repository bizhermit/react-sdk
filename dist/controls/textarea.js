"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextAreaStyle=exports.textAreaClassName=void 0;const react_1=__importStar(require("react")),controller_1=require("../hooks/controller"),value_1=__importDefault(require("../hooks/value")),input_1=__importStar(require("../layouts/input")),style_1=__importDefault(require("../layouts/style")),classname_utils_1=__importDefault(require("../utils/classname-utils")),dom_utils_1=require("../utils/dom-utils");exports.textAreaClassName="bh-txa";const TextArea=e=>{const t=(0,react_1.useRef)(),r=e=>{t.current&&(t.current.value=e??"")},{getValue:a,setValue:s,getTitle:l,getStatus:n}=(0,value_1.default)(e,{binded:r}),i=(0,react_1.useCallback)((t=>{if(!1===e.resize)return;const r=t.target.parentElement,a=r.getBoundingClientRect();let s=a.height,l=a.width,n=t.clientX,i=t.clientY;const u=t=>{null!=e.resize&&!0!==e.resize&&"horizontal"!==e.resize||(r.style.width=t.clientX-n+l+"px"),null!=e.resize&&!0!==e.resize&&"vertical"!==e.resize||(r.style.height=t.clientY-i+s+"px")};(0,dom_utils_1.setCursor)(getComputedStyle(t.currentTarget).cursor);const o=()=>{if(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",o),(0,dom_utils_1.releaseCursor)(),e.resized){const t=r.getBoundingClientRect();e.resized({height:t.height,width:t.width})}};window.addEventListener("mouseup",o),window.addEventListener("mousemove",u)}),[e.resize,e.resized]);return(0,react_1.useEffect)((()=>{r(a())}),[e.disabled]),(0,controller_1.initController)(e.controller,(e=>{e.focus=()=>(t.current?.focus(),e),e.blur=()=>(t.current?.blur(),e),e.getValue=()=>a(),e.setValue=t=>(s(t),e)})),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",{className:classname_utils_1.default.join(input_1.InputClassNames.wrap,exports.textAreaClassName,e.className),style:e.style},react_1.default.createElement("textarea",{ref:t,className:`${input_1.InputClassNames.ipt}`,tabIndex:e.tabIndex,placeholder:e.placeholder,maxLength:e.maxLength,onFocus:()=>e.focus?.(a()),onBlur:()=>e.blur?.(a()),onChange:e=>s(e.target.value),title:l(),"data-status":n(),disabled:!0===e.disabled}),!1===e.resize?react_1.default.createElement(react_1.default.Fragment,null):react_1.default.createElement("div",{className:"horizontal"===e.resize?input_1.InputClassNames.resize_x:"vertical"===e.resize?input_1.InputClassNames.resize_y:input_1.InputClassNames.resize,onMouseDown:i})),input_1.default,exports.TextAreaStyle)};exports.default=TextArea,exports.TextAreaStyle=react_1.default.createElement(style_1.default,{id:exports.textAreaClassName,notDepsColor:!0,css:({design:e})=>`\n.${exports.textAreaClassName} {\n  align-items: stretch;\n  height: 200px;\n  width: 360px;\n}\n.${exports.textAreaClassName} > .${input_1.InputClassNames.ipt} {\n  resize: none;\n  padding: 5px;\n}\n${"material"===e?`\n.${exports.textAreaClassName} > .${input_1.InputClassNames.ipt}:disabled {\n  border-color: transparent;\n}\n`:""}\n`});